(()=>{var e={};e.id=2948,e.ids=[2948],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},66035:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>_,tree:()=>o}),a(81119),a(49864),a(35866);var i=a(23191),s=a(88716),r=a(37922),n=a.n(r),c=a(95231),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);a.d(t,d);let o=["",{children:["management",{children:["product-category",{children:["add-specification",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,81119)),"C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\management\\product-category\\add-specification\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,49864)),"C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\management\\product-category\\add-specification\\page.tsx"],u="/management/product-category/add-specification/page",p={require:a,loadChunk:()=>Promise.resolve()},_=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/management/product-category/add-specification/page",pathname:"/management/product-category/add-specification",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},23331:(e,t,a)=>{Promise.resolve().then(a.bind(a,43337))},43337:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var i=a(10326),s=a(35047),r=a(52783),n=a(17577),c=a(91726),d=a(94368),o=a(30462),l=a(59270),u=a(91259),p=a(4139),_=a(60816),m=a(15522),y=a(35415),f=a(96327),x=a(73916),b=a(92156),h=a(58946),g=a(79840);let I={cat_id:"",subcat_id:"",subcat_spec_name:"",cat_type:"",allow_input:!0,is_required:!1,prefix:"",suffix:"",field_type:g.Py.ALPHANUMERIC,is_score_contributed:!1,rating_score:[]},w={subcat_spec_id:"",subcat_spec_name:"",subcat_subspec_name:"",allow_input:!0,is_required:!1,prefix:"",suffix:"",field_type:g.Py.ALPHANUMERIC,is_score_contributed:!1,rating_score:[]},P=({specificationType:e,catId:t=""})=>{let a=(0,s.useRouter)(),r=m.aL[e],[g]=c.Z.useForm(),[P,C]=(0,n.useState)(I),[k,S]=(0,n.useState)(w),[A,v]=(0,n.useState)(!0),[N,j]=(0,n.useState)(!0),[E,R]=(0,n.useState)([]),[T,Z]=(0,n.useState)(""),[q,O]=(0,n.useState)([]),F=m.pF.map(e=>({value:e.key,label:e.label})),U=(0,n.useCallback)(()=>E.filter(e=>e.cat_type===m.rJ.SPECIFICATION&&void 0===e.is_origin).map(e=>({value:e._id,label:e.subcat_spec_name})),[E]);(0,n.useEffect)(()=>{let a=async()=>{try{let e;e=null===t||""===t||void 0===t?await f.Z.getAllGeneralSpecifications():t.includes(m.rJ.SUBCATEGORY_PREFIX)?await f.Z.findSubcategorySpecificationByCatId(t):await f.Z.findCategoryBaseSpecificationByCatId(t),R(e)}catch(e){console.error(e)}finally{j(!1)}};e===m.rJ.SPECIFICATION&&a().then()},[t,e]),(0,n.useEffect)(()=>{let e=U();O(e),e.length>0&&(Z(e[0].value),S(t=>({...t,subcat_spec_id:e[0].value,subcat_spec_name:e[0].label})))},[U]);let G=(e,t)=>null===t||""===t||void 0===t?e?f.Z.createGeneralSpecification:f.Z.createGeneralSubspecification:t.includes(m.rJ.SUBCATEGORY_PREFIX)?e?f.Z.createSubcategorySpecification:f.Z.createSubcategorySubspecification:e?f.Z.createCategoryBaseSpecification:f.Z.createCategoryBaseSubspecification,M=async()=>{try{await g.validateFields();let a=A?P:k,s={allow_input:P.allow_input,is_required:P.is_required,prefix:P.prefix,suffix:P.suffix,field_type:P.field_type,is_score_contributed:P.is_score_contributed,rating_score:g.getFieldsValue().rating_score,cat_type:e},r={...a,...s};A&&(r={...r,cat_id:t,subcat_id:t}),d.Z.confirm({title:i.jsx("h3",{children:"Confirmation"}),content:i.jsx(b.Z,{action:"Add",record:r}),className:"confirmation-modal",centered:!0,width:"35%",okText:"Confirm",onOk:()=>V(r)})}catch(e){throw h.Z.error("Please Filled in the required field."),e}},V=async e=>{let i=G(A,t);try{await i(e),x.Z.success(`Add ${r}`,`${e.subcat_subspec_name??e.subcat_spec_name} is added successfully.`),a.back()}catch(t){throw x.Z.error(`Add ${r}`,`${e.subcat_subspec_name??e.subcat_spec_name} failed to add.`),t}},$=(e,t,a=!1)=>(0,i.jsxs)(o.ZP.Group,{onChange:e,defaultValue:t,disabled:a,children:[i.jsx(o.ZP,{value:!0,children:"Yes"}),i.jsx(o.ZP,{value:!1,children:"No"})]}),D=(e,t,a,s,r,n,d=!1,o)=>{let p;return"input"===a?p=i.jsx(l.default,{name:s,onChange:t,disabled:d}):"select"===a?p=i.jsx(u.default,{defaultValue:n,onChange:t,options:o,disabled:d}):"radio"===a&&(p=$(t,n,d)),i.jsx(c.Z.Item,{label:i.jsx("h5",{children:e}),labelCol:{span:6},labelAlign:"left",name:s,rules:r,initialValue:n,children:p})};return N&&e===m.rJ.SPECIFICATION?i.jsx("div",{children:"Loading..."}):(0,i.jsxs)(c.Z,{form:g,name:`${r}_form`,className:"mx-8 max-w-3xl",children:[e===m.rJ.SPECIFICATION?i.jsx(c.Z.Item,{label:i.jsx("h5",{children:"Specification Type"}),labelCol:{span:6},labelAlign:"left",children:(0,i.jsxs)(o.ZP.Group,{onChange:e=>{let t=e.target.value;v(t),t?P.subcat_spec_name=k.subcat_subspec_name:k.subcat_subspec_name=P.subcat_spec_name},value:A,children:[i.jsx(o.ZP,{value:!0,children:"Specification"}),i.jsx(o.ZP,{value:!1,children:"Subspecification"})]})}):i.jsx(i.Fragment,{}),A?D(`${r} Name`,e=>C(t=>({...t,subcat_spec_name:e.target.value})),"input","subcat_spec_name",[{required:!0,message:`${r} Name is required`}]):(0,i.jsxs)(i.Fragment,{children:[D(`${r} Name`,(e,t)=>S(a=>({...a,subcat_spec_id:e,subcat_spec_name:t?.label||a.subcat_spec_name})),"select","subcat_spec_id",[{required:!0,message:`${r} Name is required`}],T,!1,q),D("Subspecification Name",e=>S(t=>({...t,subcat_subspec_name:e.target.value})),"input","subcat_subspec_name",[{required:!0,message:"Subspecification Name is required"}])]}),D("Allow Input",e=>C(t=>({...t,allow_input:e.target.value})),"radio","allow_input",[],P.allow_input),P.allow_input&&D("Required Field",e=>C(t=>({...t,is_required:e.target.value})),"radio","is_required",[],P.is_required),P.allow_input&&D("Prefix",e=>C(t=>({...t,prefix:e.target.value})),"input","prefix"),P.allow_input&&D("Suffix",e=>C(t=>({...t,suffix:e.target.value})),"input","suffix"),P.allow_input&&D("Field Type",e=>C(t=>({...t,field_type:e})),"select","field_type",[],F[0]?.value,!1,F),P.allow_input&&D("Contributed To Score",e=>C(t=>({...t,is_score_contributed:e.target.value})),"radio","is_score_contributed",[],P.is_score_contributed),P.is_score_contributed&&P.allow_input?i.jsx(c.Z.Item,{label:i.jsx("h5",{children:"Rating Score"}),labelCol:{span:6},labelAlign:"left",name:"rating_score",children:i.jsx(y.Z,{form:g,type:P.field_type})}):i.jsx(i.Fragment,{}),(0,i.jsxs)(p.Z,{justify:"end",className:"mb-8",children:[i.jsx(_.ZP,{type:"default",className:"m-2",size:"large",onClick:()=>a.back(),children:"Cancel"}),(0,i.jsxs)(_.ZP,{type:"primary",className:"m-2",size:"large",onClick:M,children:["Add ",r]})]})]})},C=()=>{let e=(0,s.useSearchParams)(),t=e.get("type"),a=e.get("id"),n=m.aL[t];return i.jsx(r.default,{title:`Add ${n}`,isRoot:!1,children:i.jsx(P,{specificationType:t,catId:a})})}},79840:(e,t,a)=>{"use strict";a.d(t,{Jp:()=>d,Py:()=>i,V_:()=>s,_C:()=>n,hU:()=>r,m:()=>c});class i{static{this.APPROVED="APPROVED"}static{this.PENDING="PENDING"}static{this.REJECTED="REJECTED"}static{this.REJECT_ACTION="reject"}static{this.APPROVE_ACTION="approve"}static{this.ALPHABET="ALPHABET"}static{this.ALPHANUMERIC="ALPHANUMERIC"}static{this.NUMERIC="NUMERIC"}}let s=[{key:"pending",label:"Pending",value:"pending"},{key:"history",label:"History",value:"history"}],r=[{key:"product_name",title:"Product Name",dataIndex:"product_name",width:"40%"},{key:"cat_name",title:"Category",dataIndex:"cat_name",width:"10%"},{key:"subcat_name",title:"Subcategory",dataIndex:"subcat_name",width:"10%"},{key:"model_no",title:"Model No",dataIndex:"model_no",width:"10%"},{key:"owner_username",title:"Owner",dataIndex:"owner_username",width:"10%"},{key:"last_updated_on",title:"Submitted on",dataIndex:"last_updated_on",width:"10%"},{key:"action",title:"Action",dataIndex:"action",width:"10%"}],n=[{key:"product_name",title:"Product Name",dataIndex:"product_name",width:"20%"},{key:"cat_name",title:"Category",dataIndex:"cat_name",width:"10%"},{key:"subcat_name",title:"Subcategory",dataIndex:"subcat_name",width:"10%"},{key:"model_no",title:"Model No",dataIndex:"model_no",width:"10%"},{key:"owner_username",title:"Owner",dataIndex:"owner_username",width:"10%"},{key:"reviewed_on",title:"Reviewed on",dataIndex:"reviewed_on",width:"10%"},{key:"admin_username",title:"Reviewed by",dataIndex:"admin_username",width:"10%"},{key:"status",title:"Status",dataIndex:"status",width:"10%"},{key:"action",title:"Action",dataIndex:"action",width:"10%"}],c=[{key:"general_information",title:"General Information",group:"Information",type:"INFORMATION",tableHeader:[{key:"spec_name",title:"Information",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]},{key:"certification",title:"Certification",group:"Certification",type:"CERTIFICATION",tableHeader:[{key:"spec_name",title:"Certification",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]},{key:"warranty",title:"Warranty",group:"Warranty",type:"WARRANTY",tableHeader:[{key:"spec_name",title:"Warranty",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]},{key:"product_specification",title:"Product Specification",group:"Specification",type:"SPECIFICATION",tableHeader:[{key:"spec_name",title:"Specification",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]}],d=[{key:"general_information",title:"General Information",type:"INFORMATION"},{key:"certification",title:"Certification",type:"CERTIFICATION"},{key:"warranty",title:"Warranty",type:"WARRANTY"},{key:"product_specification",title:"Product Specification",type:"SPECIFICATION"}]},81119:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>c});var i=a(68570);let s=(0,i.createProxy)(String.raw`C:\Users\User\Desktop\Project\fomeda-web\src\app\management\product-category\add-specification\page.tsx`),{__esModule:r,$$typeof:n}=s;s.default;let c=(0,i.createProxy)(String.raw`C:\Users\User\Desktop\Project\fomeda-web\src\app\management\product-category\add-specification\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[8948,349,4052,1775,1726,9270,1259,4368,462,2839,8492,6327,4348],()=>a(66035));module.exports=i})();