(()=>{var e={};e.id=3305,e.ids=[3305],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},25182:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l}),a(63425),a(49864),a(35866);var r=a(23191),n=a(88716),i=a(37922),s=a.n(i),c=a(95231),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);a.d(t,o);let l=["",{children:["management",{children:["product-category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,63425)),"C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\management\\product-category\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,49864)),"C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\management\\product-category\\page.tsx"],u="/management/product-category/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/management/product-category/page",pathname:"/management/product-category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},15274:(e,t,a)=>{Promise.resolve().then(a.bind(a,72321))},92379:(e,t,a)=>{"use strict";a.d(t,{Z:()=>T});var r=a(17577),n=a(48029),i=a.n(n),s=a(56212),c=a(63698),o=a(22221),l=a(97619),d=a(305),u=a(85190),m=a(52306),h=a(41749),p=a(53558),y=a(5926),_=a(29987);let f=e=>{let{paddingXXS:t,lineWidth:a,tagPaddingHorizontal:r,componentCls:n,calc:i}=e,s=i(r).sub(a).equal(),c=i(t).sub(a).equal();return{[n]:Object.assign(Object.assign({},(0,p.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:s,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,m.unit)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${n}-close-icon`]:{marginInlineStart:c,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:s}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},b=e=>{let{lineWidth:t,fontSizeIcon:a,calc:r}=e,n=e.fontSizeSM;return(0,y.TS)(e,{tagFontSize:n,tagLineHeight:(0,m.unit)(r(e.lineHeightSM).mul(n).equal()),tagIconSize:r(a).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},g=e=>({defaultBg:new h.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),C=(0,_.I$)("Tag",e=>f(b(e)),g);var x=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};let v=r.forwardRef((e,t)=>{let{prefixCls:a,style:n,className:s,checked:c,onChange:o,onClick:l}=e,d=x(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:m,tag:h}=r.useContext(u.E_),p=m("tag",a),[y,_,f]=C(p),b=i()(p,`${p}-checkable`,{[`${p}-checkable-checked`]:c},null==h?void 0:h.className,s,_,f);return y(r.createElement("span",Object.assign({},d,{ref:t,style:Object.assign(Object.assign({},n),null==h?void 0:h.style),className:b,onClick:e=>{null==o||o(!c),null==l||l(e)}})))});var k=a(52764);let S=e=>(0,k.Z)(e,(t,a)=>{let{textColor:r,lightBorderColor:n,lightColor:i,darkColor:s}=a;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:r,background:i,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:s,borderColor:s},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),w=(0,_.bk)(["Tag","preset"],e=>S(b(e)),g),I=(e,t,a)=>{let r=function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}(a);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${a}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},A=(0,_.bk)(["Tag","status"],e=>{let t=b(e);return[I(t,"success","Success"),I(t,"processing","Info"),I(t,"error","Error"),I(t,"warning","Warning")]},g);var $=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};let j=r.forwardRef((e,t)=>{let{prefixCls:a,className:n,rootClassName:m,style:h,children:p,icon:y,color:_,onClose:f,bordered:b=!0,visible:g}=e,x=$(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:v,direction:k,tag:S}=r.useContext(u.E_),[I,j]=r.useState(!0),T=(0,s.Z)(x,["closeIcon","closable"]);r.useEffect(()=>{void 0!==g&&j(g)},[g]);let E=(0,c.o2)(_),O=(0,c.yT)(_),P=E||O,M=Object.assign(Object.assign({backgroundColor:_&&!P?_:void 0},null==S?void 0:S.style),h),Z=v("tag",a),[N,D,F]=C(Z),R=i()(Z,null==S?void 0:S.className,{[`${Z}-${_}`]:P,[`${Z}-has-color`]:_&&!P,[`${Z}-hidden`]:!I,[`${Z}-rtl`]:"rtl"===k,[`${Z}-borderless`]:!b},n,m,D,F),L=e=>{e.stopPropagation(),null==f||f(e),e.defaultPrevented||j(!1)},[,U]=(0,o.Z)((0,o.w)(e),(0,o.w)(S),{closable:!1,closeIconRender:e=>{let t=r.createElement("span",{className:`${Z}-close-icon`,onClick:L},e);return(0,l.wm)(e,t,e=>({onClick:t=>{var a;null===(a=null==e?void 0:e.onClick)||void 0===a||a.call(e,t),L(t)},className:i()(null==e?void 0:e.className,`${Z}-close-icon`)}))}}),H="function"==typeof x.onClick||p&&"a"===p.type,Y=y||null,q=Y?r.createElement(r.Fragment,null,Y,p&&r.createElement("span",null,p)):p,W=r.createElement("span",Object.assign({},T,{ref:t,className:R,style:M}),q,U,E&&r.createElement(w,{key:"preset",prefixCls:Z}),O&&r.createElement(A,{key:"status",prefixCls:Z}));return N(H?r.createElement(d.Z,{component:"Tag"},W):W)});j.CheckableTag=v;let T=j},88295:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",a="minute",r="hour",n="week",i="month",s="quarter",c="year",o="date",l="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=function(e,t,a){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(a)+e},h="en",p={};p[h]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||"th")+"]"}};var y="$isDayjsObject",_=function(e){return e instanceof C||!(!e||!e[y])},f=function e(t,a,r){var n;if(!t)return h;if("string"==typeof t){var i=t.toLowerCase();p[i]&&(n=i),a&&(p[i]=a,n=i);var s=t.split("-");if(!n&&s.length>1)return e(s[0])}else{var c=t.name;p[c]=t,n=c}return!r&&n&&(h=n),n||!r&&h},b=function(e,t){if(_(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new C(a)},g={s:m,z:function(e){var t=-e.utcOffset(),a=Math.abs(t);return(t<=0?"+":"-")+m(Math.floor(a/60),2,"0")+":"+m(a%60,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var r=12*(a.year()-t.year())+(a.month()-t.month()),n=t.clone().add(r,i),s=a-n<0,c=t.clone().add(r+(s?-1:1),i);return+(-(r+(a-n)/(s?n-c:c-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return({M:i,y:c,w:n,d:"day",D:o,h:r,m:a,s:t,ms:e,Q:s})[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};g.l=f,g.i=_,g.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function m(e){this.$L=f(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[y]=!0}var h=m.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(g.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var n=r[2]-1||0,i=(r[7]||"0").substring(0,3);return a?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return g},h.isValid=function(){return this.$d.toString()!==l},h.isSame=function(e,t){var a=b(e);return this.startOf(t)<=a&&a<=this.endOf(t)},h.isAfter=function(e,t){return b(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<b(e)},h.$g=function(e,t,a){return g.u(e)?this[t]:this.set(a,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var l=this,d=!!g.u(s)||s,u=g.p(e),m=function(e,t){var a=g.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?a:a.endOf("day")},h=function(e,t){return g.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,y=this.$M,_=this.$D,f="set"+(this.$u?"UTC":"");switch(u){case c:return d?m(1,0):m(31,11);case i:return d?m(1,y):m(0,y+1);case n:var b=this.$locale().weekStart||0,C=(p<b?p+7:p)-b;return m(d?_-C:_+(6-C),y);case"day":case o:return h(f+"Hours",0);case r:return h(f+"Minutes",1);case a:return h(f+"Seconds",2);case t:return h(f+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(n,s){var l,d=g.p(n),u="set"+(this.$u?"UTC":""),m=((l={}).day=u+"Date",l[o]=u+"Date",l[i]=u+"Month",l[c]=u+"FullYear",l[r]=u+"Hours",l[a]=u+"Minutes",l[t]=u+"Seconds",l[e]=u+"Milliseconds",l)[d],h="day"===d?this.$D+(s-this.$W):s;if(d===i||d===c){var p=this.clone().set(o,1);p.$d[m](h),p.init(),this.$d=p.set(o,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[g.p(e)]()},h.add=function(e,s){var o,l=this;e=Number(e);var d=g.p(s),u=function(t){var a=b(l);return g.w(a.date(a.date()+Math.round(t*e)),l)};if(d===i)return this.set(i,this.$M+e);if(d===c)return this.set(c,this.$y+e);if("day"===d)return u(1);if(d===n)return u(7);var m=((o={})[a]=6e4,o[r]=36e5,o[t]=1e3,o)[d]||1,h=this.$d.getTime()+e*m;return g.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||l;var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=g.z(this),i=this.$H,s=this.$m,c=this.$M,o=a.weekdays,d=a.months,m=a.meridiem,h=function(e,a,n,i){return e&&(e[a]||e(t,r))||n[a].slice(0,i)},p=function(e){return g.s(i%12||12,e,"0")},y=m||function(e,t,a){var r=e<12?"AM":"PM";return a?r.toLowerCase():r};return r.replace(u,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return g.s(t.$y,4,"0");case"M":return c+1;case"MM":return g.s(c+1,2,"0");case"MMM":return h(a.monthsShort,c,d,3);case"MMMM":return h(d,c);case"D":return t.$D;case"DD":return g.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(a.weekdaysMin,t.$W,o,2);case"ddd":return h(a.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(i);case"HH":return g.s(i,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return y(i,s,!0);case"A":return y(i,s,!1);case"m":return String(s);case"mm":return g.s(s,2,"0");case"s":return String(t.$s);case"ss":return g.s(t.$s,2,"0");case"SSS":return g.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},h.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},h.diff=function(e,o,l){var d,u=this,m=g.p(o),h=b(e),p=(h.utcOffset()-this.utcOffset())*6e4,y=this-h,_=function(){return g.m(u,h)};switch(m){case c:d=_()/12;break;case i:d=_();break;case s:d=_()/3;break;case n:d=(y-p)/6048e5;break;case"day":d=(y-p)/864e5;break;case r:d=y/36e5;break;case a:d=y/6e4;break;case t:d=y/1e3;break;default:d=y}return l?d:g.a(d)},h.daysInMonth=function(){return this.endOf(i).$D},h.$locale=function(){return p[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),r=f(e,t,!0);return r&&(a.$L=r),a},h.clone=function(){return g.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},m}(),x=C.prototype;return b.prototype=x,[["$ms",e],["$s",t],["$m",a],["$H",r],["$W","day"],["$M",i],["$y",c],["$D",o]].forEach(function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),b.extend=function(e,t){return e.$i||(e(t,C,b),e.$i=!0),b},b.locale=f,b.isDayjs=_,b.unix=function(e){return b(1e3*e)},b.en=p[h],b.Ls=p,b.p={},b},e.exports=t()},72321:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var r=a(10326),n=a(17577),i=a(52783),s=a(33325),c=a(15522),o=a(92379),l=a(94368),d=a(85673),u=a(60816),m=a(99985),h=a(4139),p=a(38106),y=a(59270),_=a(82412),f=a(24395),b=a(72380),g=a(91726),C=a(30462),x=a(91259),v=a(96327),k=a(92156),S=a(58946);let w={cat_name:"",is_active:!1},I={cat_id:"",cat_name:"",subcat_name:"",is_active:!1},A=({isOpen:e,onClose:t,categoryData:a,onAdd:i})=>{let[s]=g.Z.useForm(),[c,o]=(0,n.useState)(w),[d,u]=(0,n.useState)(!0),[m]=g.Z.useForm(),[h,p]=(0,n.useState)(I),[_,f]=(0,n.useState)(!1),b=(e,t,a)=>{let r={...h,[t]:e};"cat_id"===t&&a&&(r.cat_name=a.label),p(r)},A=async()=>{f(!0),s.validateFields().then(async()=>{d?(await $().then(()=>i("add",s.getFieldValue("cat_name"))),s.resetFields(),o(w)):(await j().then(()=>i("add",m.getFieldValue("subcat_name"))),m.resetFields(),p(I),h.cat_name=E[0].label),f(!1),t()}).catch(e=>{S.Z.error(e.message),f(!1)})},$=async()=>{try{await v.Z.createCategory(c)}catch(e){throw console.error(e),e}},j=async()=>{try{await v.Z.createSubcategory(h)}catch(e){throw console.error(e),e}},T=(0,n.useCallback)(()=>a.map(e=>({value:e._id,label:e.cat_name})),[a]),[E,O]=(0,n.useState)(T()),[P,M]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=T();O(e),e.length>0&&(M(e[0].value),p(t=>({...t,cat_id:e[0].value,cat_name:e[0].label})))},[T,c]),(0,r.jsxs)(l.Z,{title:r.jsx("h3",{children:"Add Category"}),centered:!0,open:e,onOk:()=>{l.Z.confirm({title:r.jsx("h3",{children:"Confirmation"}),content:r.jsx(k.Z,{action:"add",record:d?c:h}),className:"confirmation-modal",centered:!0,width:"35%",okText:"Confirm",onOk:()=>A()})},okText:"Add Category",onCancel:()=>{s.resetFields(),m.resetFields(),h.cat_name=E[0].label,t()},okButtonProps:{disabled:(()=>{let e=!1;return(!d||c.cat_name)&&(d||h.subcat_name)||(e=!0),e})(),loading:_},children:[r.jsx(g.Z.Item,{label:r.jsx("h5",{children:"Category Type"}),labelCol:{span:10},labelAlign:"left",className:"mb-2",children:(0,r.jsxs)(C.ZP.Group,{onChange:e=>{u(e.target.value)},value:d,children:[r.jsx(C.ZP,{value:!0,children:"Category"}),r.jsx(C.ZP,{value:!1,children:"Subcategory"})]})}),d?r.jsx(g.Z,{form:s,name:"category_form",children:r.jsx(g.Z.Item,{label:r.jsx("h5",{children:"Category name"}),labelCol:{span:10},labelAlign:"left",className:"mb-2",name:"cat_name",rules:[{required:!0,message:"Category name is required"}],children:r.jsx(y.default,{name:"cat_name",onChange:e=>{o({...c,[e.target.name]:e.target.value})}})})}):r.jsx("div",{children:(0,r.jsxs)(g.Z,{form:m,name:"subcategory_form",children:[r.jsx(g.Z.Item,{label:r.jsx("h5",{children:"Category name"}),labelCol:{span:10},labelAlign:"left",className:"mb-2",name:"cat_id",rules:[{required:!0,message:"Category name is required"}],children:r.jsx(x.default,{defaultValue:P,onChange:(e,t)=>b(e,"cat_id",t),options:E})}),r.jsx(g.Z.Item,{label:r.jsx("h5",{children:"Subcategory name"}),labelCol:{span:10},labelAlign:"left",className:"mb-2",name:"subcat_name",rules:[{required:!0,message:"Subcategory name is required"}],children:r.jsx(y.default,{name:"subcat_name",onChange:e=>b(e.target.value,"subcat_name")})})]})})]})},$=({isOpen:e,onClose:t,isParent:a,isCategory:i,data:s,onUpdate:c,title:o,type:d})=>{let[u]=g.Z.useForm(),[m,h]=(0,n.useState)({...s}),[p,_]=(0,n.useState)({...s});(0,n.useEffect)(()=>{h({...s}),_({...s}),u.setFieldsValue({...s})},[s,u]);let f=async()=>{let e={true:v.Z.updateCategory,false:v.Z.updateSubcategory},t=a?u.getFieldValue("cat_name"):u.getFieldValue("subcat_name");try{await e[a](s._id,m).then(()=>c("update",t))}catch(e){throw console.error(e),e}},b=async()=>{try{await u.validateFields(),await f(),t()}catch(e){S.Z.error(e.message),console.error("Validate Failed:",e)}},w=e=>{h({...m,[e.target.name]:e.target.value})},I={labelCol:{span:10},labelAlign:"left",className:"mb-2"};return(0,r.jsxs)(l.Z,{title:(0,r.jsxs)("h3",{children:["Update ",o]}),centered:!0,open:e,onOk:()=>{l.Z.confirm({title:r.jsx("h3",{children:"Confirmation"}),content:r.jsx(k.Z,{action:"update",record:m}),className:"confirmation-modal",centered:!0,width:"35%",okText:"Confirm",onOk:()=>b()})},okText:"Update",onCancel:()=>{u.setFieldsValue({...p}),t()},width:"40%",okButtonProps:{disabled:(()=>{let e=!1;return(i&&a&&!m.cat_name||i&&!a&&!m.subcat_name)&&(e=!0),e})()},children:[i||!i&&"SPECIFICATION"===s.cat_type?r.jsx(g.Z.Item,{label:(0,r.jsxs)("h5",{children:[o," Type"]}),labelCol:{span:10},labelAlign:"left",className:"mb-2",children:(0,r.jsxs)(C.ZP.Group,{value:a,disabled:!0,children:[r.jsx(C.ZP,{value:!0,children:o}),(0,r.jsxs)(C.ZP,{value:!1,children:["Sub",o.toLowerCase()]})]})}):r.jsx(r.Fragment,{}),r.jsx(g.Z,{form:u,name:"category_form",children:a?r.jsx(g.Z.Item,{label:(0,r.jsxs)("h5",{children:[o," name"]}),name:"cat_name",...I,rules:[{required:!0,message:"Category name is required"}],children:r.jsx(y.default,{name:"cat_name",onChange:w})}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(g.Z.Item,{label:(0,r.jsxs)("h5",{children:[o," name"]}),name:"cat_id",...I,rules:[{required:!0,message:"Subcategory name is required"}],children:r.jsx(x.default,{options:[{label:s.parent_name,value:s.cat_id}],disabled:!0})}),r.jsx(g.Z.Item,{label:(0,r.jsxs)("h5",{children:["Sub",o.toLowerCase()," name"]}),name:"subcat_name",...I,children:r.jsx(y.default,{name:"subcat_name",onChange:w})})]})})]})};a(42366);var j=a(90434),T=a(35047),E=a(56230),O=a(73916),P=a(73475);let M=e=>e?r.jsx(o.Z,{color:"green",bordered:!1,className:"px-3 py-0.5 rounded-xl",children:"Active"}):r.jsx(o.Z,{bordered:!1,className:"px-3 py-0.5 rounded-xl",children:"Inactive"}),Z=()=>{let e=(0,T.useRouter)(),[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)([]),[o,g]=(0,n.useState)([]),[C,x]=(0,n.useState)(!0),[S,w]=(0,n.useState)(!1),[I,Z]=(0,n.useState)(!0),[N,D]=(0,n.useState)([]),F=e=>{let t=e.trim();g(i.filter(e=>{let a=(e.cat_name||e.subcat_name).toLowerCase().includes(t.toLowerCase()),r=null;return e.children&&(r=e.children.some(e=>e.subcat_name.toLowerCase().includes(t.toLowerCase()))),a||r}))};(0,n.useEffect)(()=>{g(i)},[i]);let R=(e,t)=>{"edit_category"===e?(w(!0),D(t),t.subcat_name?Z(!1):Z(!0)):"deactivate"===e?(t.subcat_name?H(t._id,!1):U(t._id,!1)).then(()=>z(e,t.subcat_name||t.cat_name)):"activate"===e?(t.subcat_name?H(t._id,!0):U(t._id,!0)).then(()=>z(e,t.subcat_name||t.cat_name)):(t.subcat_name?q(t._id):Y(t._id)).then(()=>z(e,t.subcat_name||t.cat_name))},L=(t,a)=>{if("edit_category"===t)R(t,a);else{if("view_details"!==t)return l.Z.confirm({title:r.jsx("h3",{children:"Confirmation"}),content:r.jsx(k.Z,{action:t,record:a}),className:"confirmation-modal",centered:!0,width:"35%",okText:"Confirm",onOk:()=>R(t,a)});e.push(`product-category/details?id=${a._id}`)}},U=async(e,t)=>{try{await v.Z.deactivateCategory(e,t)}catch(e){throw console.error(e),e}},H=async(e,t)=>{try{await v.Z.deactivateSubcategory(e,t)}catch(e){throw console.error(e),e}},Y=async e=>{try{await v.Z.deleteCategory(e)}catch(e){throw console.error(e),e}},q=async e=>{try{await v.Z.deleteSubcategory(e)}catch(e){throw console.error(e),e}},W=e=>r.jsx(d.Z,{menu:{items:B(e)},children:r.jsx(u.ZP,{children:"Actions"})}),B=e=>c.$u.map(t=>e.is_active&&"activate"===t.key||!e.is_active&&"deactivate"===t.key?null:{key:t.key,label:r.jsx(m.default,{onClick:()=>L(t.key,e),children:t.label})}).filter(e=>null!==e),G=c.Ch.map(e=>{switch(e.key){case"cat_name":return{...e,render:(e,t)=>r.jsx(j.default,{href:`product-category/details?id=${t._id}`,children:t.cat_name||t.subcat_name}),sorter:(e,t)=>(e.cat_name||e.subcat_name).localeCompare(t.cat_name||t.subcat_name)};case"is_active":return{...e,render:e=>M(e),sorter:(e,t)=>t.is_active-e.is_active};case"actions":return{...e,render:(e,t)=>W(t)};case"created_on":case"last_updated_on":return{...e,render:(t,a)=>E.I.formatDate(a[e.key],E.I.CATEGORY_DATE_FORMAT),sorter:(t,a)=>new Date(t[e.key]).getTime()-new Date(a[e.key]).getTime()};default:return{...e,sorter:(t,a)=>(t[e.key]||"").toString().localeCompare((a[e.key]||"").toString())}}}),V=async()=>{try{let e=(await v.Z.getAllCategory()).toSorted((e,t)=>e.cat_name.localeCompare(t.cat_name));s(e),x(!1)}catch(e){throw console.error(e),e}},z=async(e,t)=>{await V().then(()=>x(!1)),O.Z.success(`${P.x.formatTitleCase(e)} Category`,`${P.x.formatTitleCase(t)} has been ${e} successfully.`)};return(0,n.useEffect)(()=>{V().then()},[]),(0,r.jsxs)("div",{children:[(0,r.jsxs)(h.Z,{style:{justifyContent:"space-between",marginBottom:16},children:[r.jsx(p.Z,{span:8,children:r.jsx(y.default,{placeholder:"category",prefix:r.jsx(f.Z,{}),size:"large",onChange:e=>F(e.target.value)})}),r.jsx(u.ZP,{type:"primary",icon:r.jsx(b.Z,{}),iconPosition:"start",onClick:()=>a(!0),children:"Add Category"}),r.jsx(A,{isOpen:t,onClose:()=>a(!1),categoryData:i,onAdd:z})]}),r.jsx(_.Z,{columns:G,dataSource:o.map(e=>{let t={...e,key:e._id};return e.children&&e.children.length>0&&(t.children=e.children.map(t=>({...t,key:t._id,parent_name:e.cat_name}))),t}),pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},showSorterTooltip:!1,loading:C}),r.jsx($,{isOpen:S,onClose:()=>w(!1),isParent:I,isCategory:!0,onUpdate:z,title:"Category",data:N})]})},N=e=>e?r.jsx(o.Z,{color:"green",bordered:!1,className:"px-3 py-0.5 rounded-xl",children:"Active"}):r.jsx(o.Z,{bordered:!1,className:"px-3 py-0.5 rounded-xl",children:"Inactive"}),D=()=>{let e=(0,T.useRouter)(),t=(0,T.usePathname)(),[a,i]=(0,n.useState)([]),[s,o]=(0,n.useState)(!0),p=(e,t)=>e.map(e=>t.is_active&&"activate"===e.key||!t.is_active&&"deactivate"===e.key?null:{key:e.key,label:r.jsx(m.default,{onClick:()=>y(e.key,t),children:e.label})}).filter(e=>null!==e),y=(a,n)=>{"view_specification"===a?e.push(`${t}/view-specification?type=${n.cat_type}&id=${n._id}`):l.Z.confirm({title:r.jsx("h3",{children:"Confirmation"}),content:r.jsx(k.Z,{action:a,record:n}),className:"confirmation-modal",centered:!0,width:"35%",okText:"Confirm",onOk:()=>g(a,n)})},f={deactivate:{specification:e=>v.Z.deactivateGeneralSpecification(e,!1),subspecification:e=>v.Z.deactivateGeneralSubspecification(e,!1)},activate:{specification:e=>v.Z.deactivateGeneralSpecification(e,!0),subspecification:e=>v.Z.deactivateGeneralSubspecification(e,!0)},delete:{specification:v.Z.deleteGeneralSpecification,subspecification:v.Z.deleteGeneralSubspecification}},g=(e,t)=>{let a=t.subcat_subspec_name?"subspecification":"specification";f[e][a](t._id).then(()=>O.Z.success(`${P.x.formatTitleCase(e)} Specification`,`${t.subcat_subspec_name??t.subcat_spec_name} ${e} successfully`)).then(w).catch(a=>O.Z.error(`${P.x.formatTitleCase(e)} Specification`,`${t.subcat_subspec_name||t.subcat_spec_name} failed to ${e}`))},C=(e,t)=>r.jsx(d.Z,{menu:{items:p(e,t)},children:r.jsx(u.ZP,{children:"Actions"})}),x=e=>e.map(e=>{switch(e.key){case"subcat_spec_name":return{...e,render:(e,t)=>{let a=t.subcat_spec_name||t.subcat_subspec_name;return r.jsx("span",{children:a})},sorter:(e,t)=>(e.subcat_spec_name||e.subcat_subspec_name).localeCompare(t.subcat_spec_name||t.subcat_subspec_name)};case"is_active":return{...e,render:e=>N(e),sorter:(e,t)=>t.is_active-e.is_active};case"actions":return{...e,render:(t,a)=>C(e.actionList,a)};case"created_on":case"last_updated_on":return{...e,render:(t,a)=>E.I.formatDate(a[e.key],E.I.CATEGORY_DATE_FORMAT),sorter:(t,a)=>new Date(t[e.key]).getTime()-new Date(a[e.key]).getTime()};default:return{...e,sorter:(t,a)=>(t[e.key]||"").toString().localeCompare((a[e.key]||"").toString())}}}),S=async()=>{try{o(!0);let e=await v.Z.getAllGeneralSpecifications();i(e)}catch(e){throw console.error(e),e}},w=async()=>{await S().then(()=>o(!1))};return(0,n.useEffect)(()=>{S().then(()=>o(!1))},[]),r.jsx("div",{children:c.ZM.map(n=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(h.Z,{className:"mb-2 justify-between",children:[r.jsx("h3",{children:n.title}),r.jsx(u.ZP,{type:"primary",icon:r.jsx(b.Z,{}),onClick:()=>{e.push(`${t}/add-specification?type=${n.type}`)},children:n.button})]}),r.jsx(_.Z,{columns:x(n.tableHeader),dataSource:a.filter(e=>e.cat_type===n.type).map(e=>{let t={...e,key:e._id};return e.children&&e.children.length>0&&(t.children=e.children.map(t=>({...t,key:t._id,parent_name:e.subcat_spec_name,cat_type:e.cat_type}))),t}),pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},showSorterTooltip:!1,loading:s})]},n.key))})},F=c.RW.map(e=>({key:e.key,label:e.label,children:"category"===e.key?r.jsx(Z,{}):r.jsx(D,{})})),R=()=>{let[e,t]=(0,n.useState)("category");return(0,n.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("tab");e&&t(e)},[]),(0,n.useEffect)(()=>{let e=e=>{e.state?.activeTabKey&&t(e.state.activeTabKey)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]),r.jsx(i.default,{title:"Product Category",children:r.jsx(s.Z,{activeKey:e,items:F,size:"small",onChange:e=>{t(e),window.history.pushState({activeTabKey:e},"",`?tab=${e}`)}})})}},92156:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(10326);a(17577);var n=a(15522);let i=({action:e,record:t})=>{let a=!!(t.cat_name||t.subcat_name),i=void 0!==t.subcat_name,s=void 0!==t.subcat_subspec_name,c=t.subcat_name?"Subcategory":"Category",o=n.aL[t.cat_type],l=t.parent_name??(a?t.parent_name??t.cat_name:t.parent_name??t.subcat_spec_name),d=a?t.subcat_name??t.cat_name:t.subcat_subspec_name??t.subcat_spec_name;return(0,r.jsxs)("div",{children:[r.jsx("br",{}),"Are you sure you want to ",r.jsx("b",{children:e})," this ",a?c:o,"?",r.jsx("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("b",{children:[a?"Category":o,":"]})," ",l]}),s||i?(0,r.jsxs)("div",{children:[(0,r.jsxs)("b",{children:[a?c:"Sub"+o.toLowerCase(),":"]})," ",d]}):r.jsx(r.Fragment,{}),r.jsx("br",{})]})}},15522:(e,t,a)=>{"use strict";a.d(t,{$u:()=>s,Ch:()=>i,RW:()=>n,ZM:()=>o,aL:()=>l,pF:()=>d,rJ:()=>r,wD:()=>c,xQ:()=>u});class r{static{this.DISPLAY_SPECIFICATION="Specification"}static{this.DISPLAY_INFORMATION="Information"}static{this.DISPLAY_WARRANTY="Warranty"}static{this.DISPLAY_CERTIFICATION="Certification"}static{this.SPECIFICATION="SPECIFICATION"}static{this.INFORMATION="INFORMATION"}static{this.WARRANTY="WARRANTY"}static{this.CERTIFICATION="CERTIFICATION"}static{this.SUBCATEGORY_PREFIX="SCAT"}static{this.CATEGORY_PREFIX="CAT"}static{this.SPECIFICATION_PREFIX="SPEC"}static{this.SUBSPECIFICATION_PREFIX="SSPEC"}static{this.BASE_SPECIFICATION_PREFIX="BSPEC"}static{this.BASE_SUBSPECIFICATION_PREFIX="BSSPEC"}static{this.GENERAL_SPECIFICATION_PREFIX="GSPEC"}static{this.GENERAL_SUBSPECIFICATION_PREFIX="GSSPEC"}static{this.HAVE_VALUE="HAVE_VALUE"}static{this.MORE_THAN="MORE_THAN"}static{this.LESS_THAN="LESS_THAN"}static{this.EQUAL_TO="EQUAL_TO"}static{this.CONTAINS="CONTAINS"}}let n=[{key:"category",label:"Category"},{key:"general",label:"General Specification"}],i=[{key:"cat_name",title:"Category",dataIndex:"cat_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions"}],s=[{key:"view_details",label:"View Details"},{key:"edit_category",label:"Edit Category"},{key:"deactivate",label:"Deactivate Category"},{key:"activate",label:"Activate Category"},{key:"delete",label:"Delete Category",link:""}],c=[{key:"rating",title:"Rating",dataIndex:"rating",width:"50%"},{key:"min_score",title:"Minimum Score",dataIndex:"min_score",width:"25%"},{key:"max_score",title:"Maximum Score",dataIndex:"max_score",width:"25%"}],o=[{key:"general_information",title:"General Information",button:"Add Information",group:"Information",type:"INFORMATION",tableHeader:[{key:"subcat_spec_name",title:"General Information",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Information",link:""},{key:"deactivate",label:"Deactivate Information",link:""},{key:"activate",label:"Activate Information"},{key:"delete",label:"Delete Information",link:""}]}]},{key:"certification",title:"Certification",button:"Add Certification",group:"Certification",type:"CERTIFICATION",tableHeader:[{key:"subcat_spec_name",title:"Certification",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Certification",link:""},{key:"deactivate",label:"Deactivate Certification",link:""},{key:"activate",label:"Activate Certification"},{key:"delete",label:"Delete Certification",link:""}]}]},{key:"warranty",title:"Warranty",button:"Add Warranty",group:"Warranty",type:"WARRANTY",tableHeader:[{key:"subcat_spec_name",title:"Warranty",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Warranty",link:""},{key:"deactivate",label:"Deactivate Warranty",link:""},{key:"activate",label:"Activate Warranty"},{key:"delete",label:"Delete Warranty",link:""}]}]},{key:"product_specification",title:"Product Specification",button:"Add Specification",group:"Specification",type:"SPECIFICATION",tableHeader:[{key:"subcat_spec_name",title:"Specification",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Specification",link:""},{key:"deactivate",label:"Deactivate Specification",link:""},{key:"activate",label:"Activate Specification"},{key:"delete",label:"Delete Specification",link:""}]}]}],l={INFORMATION:"Information",CERTIFICATION:"Certification",WARRANTY:"Warranty",SPECIFICATION:"Specification"},d=[{key:"ALPHANUMERIC",label:"Alphanumeric"},{key:"ALPHABET",label:"Alphabet"},{key:"NUMERIC",label:"Numeric"}],u=[{key:"MORE_THAN",label:"More Than",type:["NUMERIC"]},{key:"LESS_THAN",label:"Less Than",type:["NUMERIC"]},{key:"EQUAL_TO",label:"Equal To",type:["NUMERIC"]},{key:"CONTAINS",label:"Contains",type:["ALPHABET","ALPHANUMERIC"]},{key:"HAVE_VALUE",label:"Have Value",type:["NUMERIC","ALPHABET","ALPHANUMERIC"]}]},58946:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(88201);class n{static showMessage(e,t){switch(e){case"success":return r.ZP.success(t);case"error":return r.ZP.error(t);case"warning":return r.ZP.warning(t);default:return r.ZP.info(t)}}static success(e){return this.showMessage("success",e)}static error(e){return this.showMessage("error",e)}static warning(e){return this.showMessage("warning",e)}static info(e){return this.showMessage("info",e)}}let i=n},56230:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var r=a(88295),n=a.n(r);class i{static{this.DEFAULT_DATE_FORMAT="YYYY-MM-DD"}static{this.DEFAULT_DATE_TIME_FORMAT="YYYY-MM-DD HH:mm:ss"}static{this.CATEGORY_DATE_FORMAT="DD MMM YYYY"}static formatDate(e,t=i.DEFAULT_DATE_FORMAT){return e?n()(e).format(t):""}}},63425:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>s,__esModule:()=>i,default:()=>c});var r=a(68570);let n=(0,r.createProxy)(String.raw`C:\Users\User\Desktop\Project\fomeda-web\src\app\management\product-category\page.tsx`),{__esModule:i,$$typeof:s}=n;n.default;let c=(0,r.createProxy)(String.raw`C:\Users\User\Desktop\Project\fomeda-web\src\app\management\product-category\page.tsx#default`)},42366:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,349,4052,1775,1726,9270,9985,3057,3325,1259,2991,3118,4368,462,124,706,2839,8492,6327],()=>a(25182));module.exports=r})();