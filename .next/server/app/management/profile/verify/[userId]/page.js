(()=>{var e={};e.id=5002,e.ids=[5002],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},12131:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(80720),r(49864),r(35866);var i=r(23191),a=r(88716),s=r(37922),n=r.n(s),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["management",{children:["profile",{children:["verify",{children:["[userId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80720)),"C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\management\\profile\\verify\\[userId]\\page.tsx"]}]},{}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,49864)),"C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\User\\Desktop\\Project\\fomeda-web\\src\\app\\management\\profile\\verify\\[userId]\\page.tsx"],p="/management/profile/verify/[userId]/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/management/profile/verify/[userId]/page",pathname:"/management/profile/verify/[userId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55230:(e,t,r)=>{Promise.resolve().then(r.bind(r,28077))},38106:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=r(18467).Z},28077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var i=r(10326),a=r(17577),s=r(99985),n=r(4139),o=r(38106),l=r(17987),d=r(91726),c=r(59270),p=r(60816),u=r(35047),m=r(52783),f=r(13227),h=r(73916);let{Title:x,Paragraph:g}=s.default;function y(){let e=(0,u.useRouter)(),t=(0,u.usePathname)(),[r,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[P,j]=(0,a.useState)(0),b=t.substring(t.lastIndexOf("/")+1),w=async t=>{g(!0);try{let r=await f.Z.getEmail(b),i=r?.email_address,a={...t,email:i};await f.Z.verifyDeleteOtp(a).then(t=>{t?.verified?(h.Z.success("Verification Code Successful","Valid verification code was entered."),e.push(`/management/profile/deactivate-account/${b}`)):h.Z.error("Verification Code Failed","Invalid verifciation code was entered. Please try again")})}catch(e){console.error(e),h.Z.error("Error Fetching Info","An error occurred while trying to retrieve account information. Please try again later.")}finally{g(!1)}},Z=async()=>{v(!0);try{let e=await f.Z.getEmail(b),t=e?.email_address;await f.Z.sendDeleteOtp({email:t}),h.Z.info("Verification Code Sent","A verification code has been sent to your email."),j(60)}catch(e){console.error("Error sending OTP:",e),h.Z.error("Error","An error occurred while sending the verification code. Please try again later.")}finally{v(!1)}};return i.jsx(m.default,{showTitle:!1,children:i.jsx(n.Z,{align:"middle",justify:"space-evenly",style:{height:"100vh"},children:i.jsx(o.Z,{children:i.jsx(l.Z,{children:(0,i.jsxs)(d.Z,{name:"verification_code",layout:"vertical",autoComplete:"off",onFinish:w,onFinishFailed:e=>{console.log("Failed:",e)},style:{width:"440px"},children:[i.jsx(x,{level:2,children:"Verification code"}),i.jsx(s.default,{style:{paddingTop:"5px"},children:"Please click the send code link to send verification code to the email."}),(0,i.jsxs)(n.Z,{align:"middle",children:[i.jsx(o.Z,{children:i.jsx(d.Z.Item,{label:"Verification code",name:"otp",rules:[{required:!0,message:"Please enter the verification code"}],hasFeedback:!0,style:{paddingTop:"5px"},children:i.jsx(c.default.OTP,{})})}),i.jsx(o.Z,{style:{display:"flex",alignItems:"center",height:"100%"},children:i.jsx(p.ZP,{onClick:Z,disabled:P>0,loading:y,type:"link",style:{paddingTop:"8px"},children:P>0?`Send in ${P}s`:"Send code"})})]}),(0,i.jsxs)(d.Z.Item,{children:[i.jsx("div",{style:{marginTop:"10px"},children:i.jsx(p.ZP,{block:!0,type:"primary",htmlType:"submit",loading:r,children:"Submit"})}),i.jsx("div",{style:{marginTop:"10px"},children:i.jsx(p.ZP,{block:!0,type:"default",onClick:()=>{e.push("/management/profile")},children:"Back"})})]})]})})})})})}},80720:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});var i=r(68570);let a=(0,i.createProxy)(String.raw`C:\Users\User\Desktop\Project\fomeda-web\src\app\management\profile\verify\[userId]\page.tsx`),{__esModule:s,$$typeof:n}=a;a.default;let o=(0,i.createProxy)(String.raw`C:\Users\User\Desktop\Project\fomeda-web\src\app\management\profile\verify\[userId]\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[8948,349,4052,1775,1726,9270,9985,3057,3325,7987,8492],()=>r(12131));module.exports=i})();