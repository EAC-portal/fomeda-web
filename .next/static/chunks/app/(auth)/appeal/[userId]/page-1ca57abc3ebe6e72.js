(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2057],{81333:function(e,a,r){Promise.resolve().then(r.bind(r,33097))},95381:function(e,a,r){"use strict";var l=r(90265);a.Z=l.Z},33097:function(e,a,r){"use strict";r.r(a);var l=r(57437),s=r(2265),i=r(50413),n=r(30252),t=r(73454),d=r(77733),o=r(95381),m=r(74011),c=r(55293),u=r(25325),h=r(46682),p=r(68788),y=r(82649),f=r(16463);let{Title:g,Link:j,Text:x}=n.default;a.default=()=>{let[e,a]=(0,s.useState)([]),[r]=t.Z.useForm(),n=(0,f.usePathname)(),j=n.substring(n.lastIndexOf("/")+1),x=(0,f.useRouter)(),[v,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await p.Z.getAppealInfo(j);r.setFieldsValue({...e}),a(e)}catch(e){throw console.error(e),y.Z.error("Error Fetching Registration Info","An error occurred while trying to retrieve registration information. Please try again later."),e}finally{b(!1)}})()},[j,x,r]);let Z=async e=>{let{confirm_email_address:a,...r}=e;b(!0);try{await p.Z.appealRegistration(j,r).then(e=>{x.push("/appeal/success")})}catch(e){console.error(e)}finally{b(!1)}},P=async e=>{try{return await p.Z.checkEmailDuplicate(e)}catch(e){throw console.error(e),e}};return(0,l.jsx)(i.default,{showTitle:!1,children:(0,l.jsxs)(d.Z,{align:"middle",justify:"space-evenly",style:{height:"100vh",width:"100vw"},children:[(0,l.jsx)(o.Z,{children:(0,l.jsx)(m.Z,{preview:!1,src:"/logoFomeda.svg",alt:"fomeda-logo"})}),(0,l.jsx)(o.Z,{children:(0,l.jsx)(c.Z,{children:(0,l.jsxs)(t.Z,{form:r,name:"basic",layout:"vertical",autoComplete:"off",onFinish:Z,onFinishFailed:e=>{console.log("Failed:",e)},style:{width:"600px"},children:[(0,l.jsx)(g,{level:2,children:"Appeal registration"}),(0,l.jsx)(g,{level:3,children:"Personal information"}),(0,l.jsx)(t.Z.Item,{label:"Fullname",name:"fullname",rules:[{required:!0,message:"Please input your fullname"}],hasFeedback:!0,children:(0,l.jsx)(u.default,{placeholder:"Fullname"})}),(0,l.jsx)(t.Z.Item,{label:"Email addresss",name:"email_address",rules:[{required:!0,message:"Please input your email address"},{type:"email",message:"Please enter a valid email address"},{validator:async(a,r)=>r&&r!==(null==e?void 0:e.email_address)&&await P(r)?Promise.reject(Error("The email is already in use")):Promise.resolve()}],hasFeedback:!0,children:(0,l.jsx)(u.default,{placeholder:"Email address"})}),(0,l.jsx)(t.Z.Item,{label:"Confirm email addresss",name:"confirm_email_address",dependencies:["email_address"],rules:[{required:!0,message:"Please input to confirm email address"},{type:"email",message:"Please enter a valid email address"},{validator:async(a,r)=>r&&r!==(null==e?void 0:e.email_address)&&await P(r)?Promise.reject(Error("The email is already in use")):Promise.resolve()},e=>{let{getFieldValue:a}=e;return{validator:(e,r)=>r&&a("email_address")!==r?Promise.reject(Error("The confirm email that you entered does not match with email above")):Promise.resolve()}}],hasFeedback:!0,children:(0,l.jsx)(u.default,{placeholder:"Email address"})}),(0,l.jsx)(g,{level:3,children:"Company information"}),(0,l.jsx)(t.Z.Item,{label:"Trading company name",name:"company_name",rules:[{required:!0,message:"Please input your trading company name"}],hasFeedback:!0,children:(0,l.jsx)(u.default,{placeholder:"Trading company name"})}),(0,l.jsx)(t.Z.Item,{label:"Trading company no",name:"company_no",rules:[{required:!0,message:"Please input your trading company no"}],hasFeedback:!0,children:(0,l.jsx)(u.default,{placeholder:"Trading company no"})}),(0,l.jsx)(t.Z.Item,{label:"Trading company address",name:"company_address",rules:[{required:!0,message:"Please input your trading company address"}],hasFeedback:!0,children:(0,l.jsx)(u.default,{placeholder:"Trading company address"})}),(0,l.jsx)(g,{level:3,children:"Account information"}),(0,l.jsx)(t.Z.Item,{label:"Username",children:(0,l.jsx)(u.default,{value:null==e?void 0:e.username,disabled:!0})}),(0,l.jsx)(t.Z.Item,{style:{paddingTop:"5px"},children:(0,l.jsx)(h.ZP,{block:!0,type:"primary",htmlType:"submit",loading:v,children:"Appeal"})})]})})})]})})}}},function(e){e.O(0,[3276,9665,3419,3454,5325,252,4717,5913,5293,413,2971,7023,1744],function(){return e(e.s=81333)}),_N_E=e.O()}]);