(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4160],{77130:function(e,t,a){Promise.resolve().then(a.bind(a,1073))},1073:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var i=a(57437),r=a(73454),n=a(77733),l=a(95381),c=a(7673),s=a(74011),d=a(97382),o=a(55293),u=a(46682),_=a(99242),I=a(43561),h=a(2265),p=a(54357),y=a(55166),m=a(19030),C=a(16463),b=a(50413),A=a(77738),E=a(25325),T=a(91518),f=a(85327),x=a(1071),w=a(5951),P=a(5765),R=a(82649),N=a(35945);let O=e=>new Promise((t,a)=>{let i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=()=>a(Error("File reading failed"))});var k=e=>{let{onOpen:t,onClose:a,productId:n,productName:l}=e,[c]=r.Z.useForm(),[d,o]=(0,h.useState)([]),[_,I]=(0,h.useState)(!1),[p,y]=(0,h.useState)(""),m=async()=>{try{await c.validateFields()}catch(e){throw w.Z.error("Please fill in all required fields"),e}A.Z.confirm({title:(0,i.jsx)("h3",{children:"Confirmation"}),content:(0,i.jsx)(N.Z,{action:"report",record:{product_name:l},details:"product"}),className:"confirmation-modal",centered:!0,width:"35%",okText:"Confirm",onOk:()=>C()})},C=async()=>{let e=c.getFieldsValue();if(e.pro_id=n,d.length>0){let t=d[0].originFileObj;e.rpt_img={name:t.name,uid:d[0].uid,base64:await O(t)}}try{await P.Z.createReport(e),a(),c.resetFields(),R.Z.success("Report Product","".concat(l," reported successfully"))}catch(e){R.Z.error("Report Product","Failed to report product - ".concat(l))}},b=async e=>{e.base64||e.preview||(e.preview=await O(e.originFileObj)),y(e.base64||e.preview),I(!0)};return(0,i.jsxs)(A.Z,{open:t,onCancel:()=>{c.resetFields(),a()},title:(0,i.jsx)("h3",{className:"text-center",children:"Report Product"}),width:"50%",okText:"Report",onOk:m,children:[(0,i.jsxs)(r.Z,{form:c,children:[(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Product Name"}),className:"mb-2",labelAlign:"left",labelCol:{span:6},children:(0,i.jsx)("div",{children:l})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Title"}),className:"mb-2",labelAlign:"left",name:"rpt_title",labelCol:{span:6},rules:[{required:!0,message:"Title is required"}],children:(0,i.jsx)(E.default,{})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Reason"}),className:"mb-2",labelAlign:"left",name:"rpt_reason",labelCol:{span:6},rules:[{required:!0,message:"Reason is required"}],children:(0,i.jsx)(f.Z,{rows:4,placeholder:"Reason"})}),(0,i.jsx)(r.Z.Item,{name:"rpt_img",children:(0,i.jsx)(T.Z,{listType:"picture",maxCount:1,accept:"image/*",multiple:!1,onChange:e=>{let{fileList:t}=e;o(t),0===t.length&&c.setFieldsValue({rpt_img:null})},onPreview:b,children:(0,i.jsx)(u.ZP,{icon:(0,i.jsx)(x.Z,{}),children:"Upload (Max: 1)"})})})]}),p&&(0,i.jsx)(s.Z,{wrapperStyle:{display:"none"},preview:{visible:_,onVisibleChange:e=>I(e),afterOpenChange:e=>!e&&y("")},src:p,alt:"report-image"})]})},S=()=>{var e,t,a;let A=(0,C.useSearchParams)().get("id"),[E]=r.Z.useForm(),[T,f]=(0,h.useState)({}),[x,w]=(0,h.useState)(!1),[P,R]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=async()=>{try{R(!0);let e=await m.Z.getProductDetails(A);e&&f(e)}catch(e){throw console.error(e),e}};A&&e().then(()=>R(!1))},[A]);let N=e=>(0,i.jsx)(r.Z.List,{name:"specification",children:()=>{var t;return null===(t=T.specification)||void 0===t?void 0:t.filter(t=>t.spec_type===e).map(e=>(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:e.spec_name}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:e.subspecification&&e.subspecification.length>0?"":(0,i.jsx)("div",{children:(null==e?void 0:e.spec_desc)!==void 0&&""!==e.spec_desc?[e.prefix,e.spec_desc,e.suffix].join(" ").trim():"-"})}),e.subspecification&&O(e.subspecification,e.spec_id)]},e.spec_id))}}),O=(e,t)=>(0,i.jsx)(r.Z.List,{name:[t,"subspecification"],children:()=>null==e?void 0:e.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:e.subspec_name}),labelAlign:"left",labelCol:{span:12},className:"ml-16 mb-4",children:(0,i.jsx)("div",{children:(null==e?void 0:e.subspec_desc)!==void 0&&""!==e.subspec_desc?[e.prefix,e.subspec_desc,e.suffix].join(" ").trim():"-"})})},e.subspec_id))});return(0,i.jsxs)(b.default,{title:"Product Details",isRoot:!1,children:[(0,i.jsx)(r.Z,{form:E,className:"w-full",children:(0,i.jsxs)(n.Z,{children:[(0,i.jsx)(l.Z,{span:12,children:(0,i.jsx)(n.Z,{justify:"center",children:(0,i.jsx)(c.Z,{className:"max-w-96 bg-gray-300",children:(0,i.jsx)(s.Z,{src:null!==(a=null===(t=T.product_img)||void 0===t?void 0:null===(e=t.file)||void 0===e?void 0:e.preview)&&void 0!==a?a:"/images/fault-image.png",alt:"product_img",className:"max-h-96 object-cover"})})})}),(0,i.jsx)(l.Z,{span:12,className:"mb-12",children:(0,i.jsx)(d.Z,{spinning:P,children:(0,i.jsxs)(o.Z,{bordered:!1,children:[(0,i.jsx)(n.Z,{children:(0,i.jsx)(u.ZP,{type:"primary",icon:(0,i.jsx)(p.Z,{}),className:"ml-auto flex items-center",onClick:()=>{w(!0)},children:"Report Product"})}),(0,i.jsx)("h5",{className:"my-3.5",children:"General Information"}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Product Name"}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:(0,i.jsx)("div",{children:T.product_name})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Model No."}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:(0,i.jsx)("div",{children:T.model_no})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"QR Code"}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:(0,i.jsx)(_.Z,{value:T._id})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Rating"}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:(0,i.jsx)(I.Z,{value:T.rating,disabled:!0})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Category"}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:(0,i.jsx)("div",{children:T.cat_name})}),(0,i.jsx)(r.Z.Item,{label:(0,i.jsx)("h5",{children:"Subcategory"}),labelAlign:"left",labelCol:{span:12},className:"ml-8 mb-4",children:(0,i.jsx)("div",{children:T.subcat_name})}),!P&&(0,i.jsxs)(i.Fragment,{children:[N(y.rJ.INFORMATION),(0,i.jsx)("h5",{className:"mb-3.5 mt-8",children:"Certification"}),N(y.rJ.CERTIFICATION),(0,i.jsx)("h5",{className:"mb-3.5 mt-8",children:"Warranty"}),N(y.rJ.WARRANTY),(0,i.jsx)("h5",{className:"mb-3.5 mt-8",children:"Specification"}),N(y.rJ.SPECIFICATION)]})]})})})]})}),(0,i.jsx)(k,{onOpen:x,onClose:()=>w(!1),productId:A,productName:T.product_name})]})}},35945:function(e,t,a){"use strict";var i=a(57437);t.Z=e=>{let{action:t,record:a,details:r}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("br",{}),"Are you confirmed to ",(0,i.jsx)("b",{children:t})," this ",r,"?",(0,i.jsx)("br",{}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Product:"})," ",a.product_name]}),(0,i.jsx)("br",{})]})}},55166:function(e,t,a){"use strict";a.d(t,{$u:function(){return l},Ch:function(){return n},RW:function(){return r},ZM:function(){return s},aL:function(){return d},pF:function(){return o},rJ:function(){return i},wD:function(){return c},xQ:function(){return u}});class i{}i.DISPLAY_SPECIFICATION="Specification",i.DISPLAY_INFORMATION="Information",i.DISPLAY_WARRANTY="Warranty",i.DISPLAY_CERTIFICATION="Certification",i.SPECIFICATION="SPECIFICATION",i.INFORMATION="INFORMATION",i.WARRANTY="WARRANTY",i.CERTIFICATION="CERTIFICATION",i.SUBCATEGORY_PREFIX="SCAT",i.CATEGORY_PREFIX="CAT",i.SPECIFICATION_PREFIX="SPEC",i.SUBSPECIFICATION_PREFIX="SSPEC",i.BASE_SPECIFICATION_PREFIX="BSPEC",i.BASE_SUBSPECIFICATION_PREFIX="BSSPEC",i.GENERAL_SPECIFICATION_PREFIX="GSPEC",i.GENERAL_SUBSPECIFICATION_PREFIX="GSSPEC",i.HAVE_VALUE="HAVE_VALUE",i.MORE_THAN="MORE_THAN",i.LESS_THAN="LESS_THAN",i.EQUAL_TO="EQUAL_TO",i.CONTAINS="CONTAINS";let r=[{key:"category",label:"Category"},{key:"general",label:"General Specification"}],n=[{key:"cat_name",title:"Category",dataIndex:"cat_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions"}],l=[{key:"view_details",label:"View Details"},{key:"edit_category",label:"Edit Category"},{key:"deactivate",label:"Deactivate Category"},{key:"activate",label:"Activate Category"},{key:"delete",label:"Delete Category",link:""}],c=[{key:"rating",title:"Rating",dataIndex:"rating",width:"50%"},{key:"min_score",title:"Minimum Score",dataIndex:"min_score",width:"25%"},{key:"max_score",title:"Maximum Score",dataIndex:"max_score",width:"25%"}],s=[{key:"general_information",title:"General Information",button:"Add Information",group:"Information",type:"INFORMATION",tableHeader:[{key:"subcat_spec_name",title:"General Information",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Information",link:""},{key:"deactivate",label:"Deactivate Information",link:""},{key:"activate",label:"Activate Information"},{key:"delete",label:"Delete Information",link:""}]}]},{key:"certification",title:"Certification",button:"Add Certification",group:"Certification",type:"CERTIFICATION",tableHeader:[{key:"subcat_spec_name",title:"Certification",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Certification",link:""},{key:"deactivate",label:"Deactivate Certification",link:""},{key:"activate",label:"Activate Certification"},{key:"delete",label:"Delete Certification",link:""}]}]},{key:"warranty",title:"Warranty",button:"Add Warranty",group:"Warranty",type:"WARRANTY",tableHeader:[{key:"subcat_spec_name",title:"Warranty",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Warranty",link:""},{key:"deactivate",label:"Deactivate Warranty",link:""},{key:"activate",label:"Activate Warranty"},{key:"delete",label:"Delete Warranty",link:""}]}]},{key:"product_specification",title:"Product Specification",button:"Add Specification",group:"Specification",type:"SPECIFICATION",tableHeader:[{key:"subcat_spec_name",title:"Specification",dataIndex:"subcat_spec_name",width:"40%"},{key:"created_name",title:"Created by",dataIndex:"created_name",width:"10%"},{key:"created_on",title:"Created on",dataIndex:"created_on",width:"10%"},{key:"last_updated_name",title:"Updated by",dataIndex:"last_updated_name",width:"10%"},{key:"last_updated_on",title:"Updated on",dataIndex:"last_updated_on",width:"10%"},{key:"is_active",title:"Status",dataIndex:"is_active",width:"10%"},{key:"actions",title:"Actions",actionList:[{key:"view_specification",label:"View Specification",link:""},{key:"deactivate",label:"Deactivate Specification",link:""},{key:"activate",label:"Activate Specification"},{key:"delete",label:"Delete Specification",link:""}]}]}],d={INFORMATION:"Information",CERTIFICATION:"Certification",WARRANTY:"Warranty",SPECIFICATION:"Specification"},o=[{key:"ALPHANUMERIC",label:"Alphanumeric"},{key:"ALPHABET",label:"Alphabet"},{key:"NUMERIC",label:"Numeric"}],u=[{key:"MORE_THAN",label:"More Than",type:["NUMERIC"]},{key:"LESS_THAN",label:"Less Than",type:["NUMERIC"]},{key:"EQUAL_TO",label:"Equal To",type:["NUMERIC"]},{key:"CONTAINS",label:"Contains",type:["ALPHABET","ALPHANUMERIC"]},{key:"HAVE_VALUE",label:"Have Value",type:["NUMERIC","ALPHABET","ALPHANUMERIC"]}]},5951:function(e,t,a){"use strict";var i=a(71768);class r{static showMessage(e,t){switch(e){case"success":return i.ZP.success(t);case"error":return i.ZP.error(t);case"warning":return i.ZP.warning(t);default:return i.ZP.info(t)}}static success(e){return this.showMessage("success",e)}static error(e){return this.showMessage("error",e)}static warning(e){return this.showMessage("warning",e)}static info(e){return this.showMessage("info",e)}}t.Z=r},19030:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var i=a(86863),r=a(91413);class n{}n.getProductDetailsById=async e=>{try{return await i.O.get(r.P.GET_PRODUCT_DETAILS_BY_ID,{id:e})}catch(e){throw console.error(e),e}},n.getProductListByFilter=async e=>{try{return await i.O.post(r.P.GET_PRODUCT_LIST_BY_FILTER,e)}catch(e){throw console.error(e),e}},n.updateProductDetailsById=async(e,t)=>{try{return await i.O.put(r.P.UPDATE_PRODUCT_DETAILS_BY_ID,t,{id:e})}catch(e){throw console.error(e),e}},n.updateProductIsActive=async e=>{try{return await i.O.put(r.P.UPDATE_PRODUCT_IS_ACTIVE,{},{id:e})}catch(e){throw console.error(e),e}},n.deleteProductById=async e=>{try{return await i.O.delete(r.P.DELETE_PRODUCT_BY_ID,{id:e})}catch(e){throw console.error(e),e}},n.createProductVerification=async e=>{try{return await i.O.post(r.P.CREATE_PRODUCT_VERIFICATION,e)}catch(e){throw console.error(e),e}},n.getProductVerificationDetailsById=async e=>{try{return await i.O.get(r.P.GET_PRODUCT_VERIFICATION_DETAILS_BY_ID,{id:e})}catch(e){throw console.error(e),e}},n.getProductVerificationListByFilter=async e=>{try{return await i.O.post(r.P.GET_PRODUCT_VERIFICATION_LIST_BY_FILTER,e)}catch(e){throw console.error(e),e}},n.updateProductVerificationDetailsById=async(e,t)=>{try{return await i.O.put(r.P.UPDATE_PRODUCT_VERIFICATION_DETAILS_BY_ID,t,{id:e})}catch(e){throw console.error(e),e}},n.updateProductVerificationReviewById=async(e,t)=>{try{return await i.O.put(r.P.UPDATE_PRODUCT_VERIFICATION_REVIEW_BY_ID,t,{id:e})}catch(e){throw console.error(e),e}},n.deleteProductVerificationDetailsById=async e=>{try{return await i.O.delete(r.P.DELETE_PRODUCT_VERIFICATION_DETAILS_BY_ID,{id:e})}catch(e){throw console.error(e),e}},n.getConsumerProductByFilter=async(e,t,a)=>{try{return await i.O.post(r.P.GET_CONSUMER_PRODUCT_BY_FILTER,e,{skip:t,limit:a})}catch(e){throw console.error(e),e}},n.getConsumerSpecificationFilterBySubcatId=async e=>{try{return await i.O.get(r.P.GET_CONSUMER_SPECIFICATION_FILTER_BY_SUBCAT_ID,{id:e})}catch(e){throw console.error(e),e}},n.getConsumerComparedProduct=async(e,t)=>{try{return await i.O.get(r.P.GET_CONSUMER_COMPARED_PRODUCT,{subcat_id:e,ids:t})}catch(e){throw console.error(e),e}},n.getProductDetails=async e=>{try{return await i.O.get(r.P.GET_PRODUCT_DETAILS,{id:e})}catch(e){throw console.error(e),e}}},5765:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var i=a(86863),r=a(91413);class n{}n.createReport=async e=>{try{return await i.O.post(r.P.CREATE_REPORT,e)}catch(e){throw console.error(e),e}},n.getReportDetails=async e=>{try{return await i.O.get(r.P.GET_REPORT_DETAILS,{id:e})}catch(e){throw console.error(e),e}},n.getSupplierReportListByFilter=async e=>{try{return await i.O.post(r.P.GET_SUPPLIER_REPORT_LIST_BY_FILTER,e)}catch(e){throw console.error(e),e}},n.getAdminReportListByFilter=async e=>{try{return await i.O.post(r.P.GET_ADMIN_REPORT_LIST_BY_FILTER,e)}catch(e){throw console.error(e),e}},n.updateReportStatus=async(e,t)=>{try{return await i.O.put(r.P.UPDATE_REPORT_STATUS,t,{id:e})}catch(e){throw console.error(e),e}}}},function(e){e.O(0,[3276,9665,3419,3454,5325,4717,5913,5293,7382,7738,6326,509,1518,4983,843,413,2971,7023,1744],function(){return e(e.s=77130)}),_N_E=e.O()}]);