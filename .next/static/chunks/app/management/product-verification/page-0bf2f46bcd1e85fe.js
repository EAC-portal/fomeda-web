(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3315],{43559:function(e,t,r){Promise.resolve().then(r.bind(r,70562))},63575:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},w:function(){return i}});var a=r(2265),n=r(46622),o=r(28884);function i(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function c(e){let{closable:t,closeIcon:r}=e||{};return a.useMemo(()=>{if(!t&&(!1===t||!1===r||null===r))return!1;if(void 0===t&&void 0===r)return null;let e={closeIcon:"boolean"!=typeof r&&null!==r?r:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e},[t,r])}function s(){let e={};for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach(t=>{t&&Object.keys(t).forEach(r=>{void 0!==t[r]&&(e[r]=t[r])})}),e}let d={};function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,i=c(e),l=c(t),u=a.useMemo(()=>Object.assign({closeIcon:a.createElement(n.Z,null)},r),[r]),y=a.useMemo(()=>!1!==i&&(i?s(u,l,i):!1!==l&&(l?s(u,l):!!u.closable&&u)),[i,l,u]);return a.useMemo(()=>{if(!1===y)return[!1,null];let{closeIconRender:e}=u,{closeIcon:t}=y,r=t;if(null!=r){e&&(r=e(t));let n=(0,o.Z)(y,!0);Object.keys(n).length&&(r=a.isValidElement(r)?a.cloneElement(r,n):a.createElement("span",Object.assign({},n),r))}return[!0,r]},[y,u])}},23062:function(e,t,r){"use strict";r.d(t,{N:function(){return a}});let a=e=>({color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}})},61827:function(e,t,r){"use strict";r.d(t,{G:function(){return i}});var a=r(29282),n=function(e){if((0,a.Z)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],r=window.document.documentElement;return t.some(function(e){return e in r.style})}return!1},o=function(e,t){if(!n(e))return!1;var r=document.createElement("div"),a=r.style[e];return r.style[e]=t,r.style[e]!==a};function i(e,t){return Array.isArray(e)||void 0===t?n(e):o(e,t)}},70562:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(57437),n=r(50413),o=r(73454),i=r(21482),c=r(77733),s=r(95381),d=r(25325),l=r(46682),u=r(34682),y=r(2265),_=r(16463),h=r(65783),w=r(19030),I=r(99765),m=e=>{let{filterData:t}=e,r=(0,_.useRouter)(),n=(0,_.usePathname)(),[o,i]=(0,y.useState)([]),[c,s]=(0,y.useState)(!1),d=(0,y.useCallback)(async()=>{try{s(!0),t.status=[u.Py.PENDING],t.is_supplier=!1;let e=(await w.Z.getProductVerificationListByFilter(await t)).toSorted((e,t)=>new Date(t.last_updated_on).getTime()-new Date(e.last_updated_on).getTime());i(e)}catch(e){throw console.error(e),e}finally{s(!1)}},[t]);(0,y.useEffect)(()=>{d().then()},[d]);let m=u.hU.map(e=>{switch(e.key){case"last_updated_on":return{...e,render:(t,r)=>I.I.formatDate(r[e.key],I.I.CATEGORY_DATE_FORMAT),sorter:(t,r)=>new Date(t[e.key]).getTime()-new Date(r[e.key]).getTime()};case"action":return{...e,render:(e,t)=>(0,a.jsx)(l.ZP,{onClick:()=>r.push("".concat(n,"/review?id=").concat(t._id)),children:"Review"})};default:return{...e,sorter:(t,r)=>(t[e.key]||"").toString().localeCompare((r[e.key]||"").toString())}}});return(0,a.jsx)(h.Z,{className:"mt-4",columns:m,showSorterTooltip:!1,dataSource:o,rowKey:"_id",loading:c,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]}})},p=r(3650),f=e=>{let{filterData:t}=e,r=(0,_.useRouter)(),n=(0,_.usePathname)(),[o,i]=(0,y.useState)([]),[c,s]=(0,y.useState)(!1),d=(0,y.useCallback)(async()=>{try{s(!0),t.status=[u.Py.REJECTED,u.Py.APPROVED],t.is_supplier=!1;let e=(await w.Z.getProductVerificationListByFilter(await t)).toSorted((e,t)=>new Date(t.reviewed_on).getTime()-new Date(e.reviewed_on).getTime());i(e)}catch(e){throw console.error(e),e}finally{s(!1)}},[t]);(0,y.useEffect)(()=>{d().then()},[d]);let m=u._C.map(e=>{switch(e.key){case"reviewed_on":case"last_updated_on":return{...e,render:(t,r)=>I.I.formatDate(r[e.key],I.I.CATEGORY_DATE_FORMAT),sorter:(t,r)=>new Date(t[e.key]).getTime()-new Date(r[e.key]).getTime()};case"status":return{...e,render:(e,t)=>f(t.status)};case"action":return{...e,render:(e,t)=>(0,a.jsx)(l.ZP,{onClick:()=>r.push("".concat(n,"/details?id=").concat(t._id)),children:"View Details"})};default:return{...e,sorter:(t,r)=>(t[e.key]||"").toString().localeCompare((r[e.key]||"").toString())}}}),f=e=>{switch(e){case u.Py.APPROVED:return(0,a.jsx)(p.Z,{color:"green",bordered:!1,className:"px-3 py-0.5 rounded-xl",children:"Approved"});case u.Py.REJECTED:return(0,a.jsx)(p.Z,{color:"red",bordered:!1,className:"px-3 py-0.5 rounded-xl",children:"Rejected"})}};return(0,a.jsx)(h.Z,{className:"mt-4",columns:m,showSorterTooltip:!1,dataSource:o,rowKey:"_id",loading:c,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]}})},E=r(57834),P=r(53730),T=r(88372),C=()=>{let[e,t]=(0,y.useState)(u.V_[0].value),[r]=o.Z.useForm(),[_,h]=(0,y.useState)([]),[w,I]=(0,y.useState)([]),[p,C]=(0,y.useState)({}),[g,O]=(0,y.useState)(!1);(0,y.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("verification_segmented_tab");e&&t(e)},[]),(0,y.useEffect)(()=>{let e=e=>{var r;(null===(r=e.state)||void 0===r?void 0:r.segmentedTab)&&t(e.state.segmentedTab)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]);let D=async()=>{C(r.getFieldsValue())},k=async()=>{r.resetFields(),C(r.getFieldsValue())},R=async()=>{try{O(!0);let e=await T.Z.findAllActiveCategories();if(e){let t=e.map(e=>{var t;let r=null===(t=e.children)||void 0===t?void 0:t.map(e=>({title:e.subcat_name,value:e._id,key:e._id}));return{title:e.cat_name,value:e._id,key:e._id,children:r}});h(t)}}catch(e){throw console.error(e),e}};return(0,y.useEffect)(()=>{R().then(()=>O(!1))},[]),(0,a.jsxs)(n.default,{title:"Product Verification",children:[(0,a.jsx)(i.Z,{options:u.V_,onChange:e=>{t(e),window.history.pushState({segmentedTab:e},"","?verification_segmented_tab=".concat(e)),C({}),r.resetFields()},value:e}),(0,a.jsx)(c.Z,{className:"flex justify-between items-center space-x-3 mt-4",children:(0,a.jsx)(s.Z,{flex:"auto",children:(0,a.jsx)(o.Z,{form:r,children:(0,a.jsxs)(c.Z,{className:"flex space-x-3",children:[(0,a.jsx)(o.Z.Item,{name:"search",className:"w-1/3 m-0",children:(0,a.jsx)(d.default,{prefix:(0,a.jsx)(E.Z,{}),placeholder:"Product Name / Model Number",size:"large"})}),(0,a.jsx)(o.Z.Item,{name:"cat_ids",className:"w-1/6 m-0",children:(0,a.jsx)(P.Z,{placeholder:"Category",options:_,showSearch:!0,optionsPlaceholder:"Search Category...",onChange:e=>{I(e)},values:w,size:"large",loading:g})}),(0,a.jsx)(l.ZP,{type:"primary",onClick:D,size:"large",children:"Search"}),(0,a.jsx)(l.ZP,{type:"default",onClick:k,size:"large",children:"Reset"})]})})})}),"pending"===e&&(0,a.jsx)(m,{filterData:p}),"history"===e&&(0,a.jsx)(f,{filterData:p})]})}},34682:function(e,t,r){"use strict";r.d(t,{Jp:function(){return s},Py:function(){return a},V_:function(){return n},_C:function(){return i},hU:function(){return o},m:function(){return c}});class a{}a.APPROVED="APPROVED",a.PENDING="PENDING",a.REJECTED="REJECTED",a.REJECT_ACTION="reject",a.APPROVE_ACTION="approve",a.ALPHABET="ALPHABET",a.ALPHANUMERIC="ALPHANUMERIC",a.NUMERIC="NUMERIC";let n=[{key:"pending",label:"Pending",value:"pending"},{key:"history",label:"History",value:"history"}],o=[{key:"product_name",title:"Product Name",dataIndex:"product_name",width:"40%"},{key:"cat_name",title:"Category",dataIndex:"cat_name",width:"10%"},{key:"subcat_name",title:"Subcategory",dataIndex:"subcat_name",width:"10%"},{key:"model_no",title:"Model No",dataIndex:"model_no",width:"10%"},{key:"owner_username",title:"Owner",dataIndex:"owner_username",width:"10%"},{key:"last_updated_on",title:"Submitted on",dataIndex:"last_updated_on",width:"10%"},{key:"action",title:"Action",dataIndex:"action",width:"10%"}],i=[{key:"product_name",title:"Product Name",dataIndex:"product_name",width:"20%"},{key:"cat_name",title:"Category",dataIndex:"cat_name",width:"10%"},{key:"subcat_name",title:"Subcategory",dataIndex:"subcat_name",width:"10%"},{key:"model_no",title:"Model No",dataIndex:"model_no",width:"10%"},{key:"owner_username",title:"Owner",dataIndex:"owner_username",width:"10%"},{key:"reviewed_on",title:"Reviewed on",dataIndex:"reviewed_on",width:"10%"},{key:"admin_username",title:"Reviewed by",dataIndex:"admin_username",width:"10%"},{key:"status",title:"Status",dataIndex:"status",width:"10%"},{key:"action",title:"Action",dataIndex:"action",width:"10%"}],c=[{key:"general_information",title:"General Information",group:"Information",type:"INFORMATION",tableHeader:[{key:"spec_name",title:"Information",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]},{key:"certification",title:"Certification",group:"Certification",type:"CERTIFICATION",tableHeader:[{key:"spec_name",title:"Certification",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]},{key:"warranty",title:"Warranty",group:"Warranty",type:"WARRANTY",tableHeader:[{key:"spec_name",title:"Warranty",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]},{key:"product_specification",title:"Product Specification",group:"Specification",type:"SPECIFICATION",tableHeader:[{key:"spec_name",title:"Specification",dataIndex:"spec_name",width:"40%"},{key:"spec_desc",title:"Value",dataIndex:"spec_desc",width:"40%"},{key:"score",title:"Score",dataIndex:"score",width:"20%"}]}],s=[{key:"general_information",title:"General Information",type:"INFORMATION"},{key:"certification",title:"Certification",type:"CERTIFICATION"},{key:"warranty",title:"Warranty",type:"WARRANTY"},{key:"product_specification",title:"Product Specification",type:"SPECIFICATION"}]},19030:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(86863),n=r(91413);class o{}o.getProductDetailsById=async e=>{try{return await a.O.get(n.P.GET_PRODUCT_DETAILS_BY_ID,{id:e})}catch(e){throw console.error(e),e}},o.getProductListByFilter=async e=>{try{return await a.O.post(n.P.GET_PRODUCT_LIST_BY_FILTER,e)}catch(e){throw console.error(e),e}},o.updateProductDetailsById=async(e,t)=>{try{return await a.O.put(n.P.UPDATE_PRODUCT_DETAILS_BY_ID,t,{id:e})}catch(e){throw console.error(e),e}},o.updateProductIsActive=async e=>{try{return await a.O.put(n.P.UPDATE_PRODUCT_IS_ACTIVE,{},{id:e})}catch(e){throw console.error(e),e}},o.deleteProductById=async e=>{try{return await a.O.delete(n.P.DELETE_PRODUCT_BY_ID,{id:e})}catch(e){throw console.error(e),e}},o.createProductVerification=async e=>{try{return await a.O.post(n.P.CREATE_PRODUCT_VERIFICATION,e)}catch(e){throw console.error(e),e}},o.getProductVerificationDetailsById=async e=>{try{return await a.O.get(n.P.GET_PRODUCT_VERIFICATION_DETAILS_BY_ID,{id:e})}catch(e){throw console.error(e),e}},o.getProductVerificationListByFilter=async e=>{try{return await a.O.post(n.P.GET_PRODUCT_VERIFICATION_LIST_BY_FILTER,e)}catch(e){throw console.error(e),e}},o.updateProductVerificationDetailsById=async(e,t)=>{try{return await a.O.put(n.P.UPDATE_PRODUCT_VERIFICATION_DETAILS_BY_ID,t,{id:e})}catch(e){throw console.error(e),e}},o.updateProductVerificationReviewById=async(e,t)=>{try{return await a.O.put(n.P.UPDATE_PRODUCT_VERIFICATION_REVIEW_BY_ID,t,{id:e})}catch(e){throw console.error(e),e}},o.deleteProductVerificationDetailsById=async e=>{try{return await a.O.delete(n.P.DELETE_PRODUCT_VERIFICATION_DETAILS_BY_ID,{id:e})}catch(e){throw console.error(e),e}},o.getConsumerProductByFilter=async(e,t,r)=>{try{return await a.O.post(n.P.GET_CONSUMER_PRODUCT_BY_FILTER,e,{skip:t,limit:r})}catch(e){throw console.error(e),e}},o.getConsumerSpecificationFilterBySubcatId=async e=>{try{return await a.O.get(n.P.GET_CONSUMER_SPECIFICATION_FILTER_BY_SUBCAT_ID,{id:e})}catch(e){throw console.error(e),e}},o.getConsumerComparedProduct=async(e,t)=>{try{return await a.O.get(n.P.GET_CONSUMER_COMPARED_PRODUCT,{subcat_id:e,ids:t})}catch(e){throw console.error(e),e}},o.getProductDetails=async e=>{try{return await a.O.get(n.P.GET_PRODUCT_DETAILS,{id:e})}catch(e){throw console.error(e),e}}}},function(e){e.O(0,[3276,9665,3419,3454,5325,7460,7382,7373,4052,6487,5783,183,210,413,6875,2971,7023,1744],function(){return e(e.s=43559)}),_N_E=e.O()}]);